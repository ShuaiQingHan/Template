<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>侧边广告随滚动条滑动</title>
    <style>

        #left{
          width:140px;
          height:470px;
          background:#BCF290;
          position:absolute;
          left:30px;
          top: 140px;
        }
        #demo{

            width:1000px;
            margin:0 auto;
            margin-left:350px;
        }
    </style>
</head>

<body>

	<div id="left">广告宣传</div>
<div id="demo">
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
   <p>*************************************************************************************</p>
</div>
</body>
</html>
<script type="text/javascript">
var oLeft = document.getElementById("left");

var t=oLeft.offsetTop;
	window.onscroll=function(){
	var sTop = document.documentElement.scrollTop||document.body.scrollTop;
		startMove(oLeft,t+sTop);
    //目标值=oLeft.offsetTop+页面滚走的距离;
	}
var timer=null;
 	function startMove(obj,target){
 		clearInterval(timer);
 		timer=setInterval(function(){
 			var speed=(target-obj.offsetTop)/10;
 			speed = speed>0?Math.ceil(speed):Math.floor(speed);
 			if(obj.offsetTop==target){
 				clearInterval(timer);
 			}else{
 				obj.style.top=obj.offsetTop+speed+"px";
 			}
 		},30)
 	}





















//	var oImg = document.getElementById("pic");
//	var t = oImg.offsetTop;//图片初始位置
//	window.onscroll = function(){
//		//当触发滚动条 图片的top值有所改变  目标值 ： scrollTop + 原来top  保证图片在可视窗口的中的位置是不变的
//		var sTop = document.documentElement.scrollTop || document.body.scrollTop;
//		startMove( oImg , t + sTop );
//	}
//	var timer = null;
//	function startMove(obj,target){
//		clearInterval(timer);//防止事件频繁操作
//		timer = setInterval(function(){
//			var speed = (target-obj.offsetTop)/10;
//			speed =speed > 0 ? Math.ceil( speed ) : Math.floor( speed );
//			if( target == obj.offsetTop ){
//				clearInterval(timer);
//			}else{
//				obj.style.top = obj.offsetTop + speed + "px";
//			}
//		},30)
//	}
</script>
